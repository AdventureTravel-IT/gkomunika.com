{% assign htu_blocks = section.blocks | where: 'type', 'htu_card' %}
{% assign wgk_blocks = section.blocks | where: 'type', 'wgk_card' %}
{% assign benefits_blocks = section.blocks | where: 'type', 'benefits_card' %}
{% assign review_top_blocks = section.blocks | where: 'type', 'review_top' %}
{% assign review_bottom_blocks = section.blocks | where: 'type', 'review_bottom' %}

{% capture rating_svg %}{{- 'ratting.svg' | inline_asset_content -}}{% endcapture %}
{% capture arrow_svg %}{{- 'icon-arrow-back.svg' | inline_asset_content -}}{% endcapture %}

<div class="htu__container">
  <div class="htu__wrapper">
    {% if htu_blocks.size > 0 %}
      <section class="htu__htu">
        <h2 class="htu__title">{{ section.settings.htu_title }}</h2>
        <div class="htu__htu-wrapper htu__grid">
          {% for block in htu_blocks %}
            <section class="htu__htu-card">
              {% if block.settings.icon != blank %}
                {% assign icon_name = block.settings.icon | append: '.svg' %}
                <div class="htu__card-icon">{{ icon_name | inline_asset_content }}</div>
              {% endif %}
              <div class="htu__card-title">
                <span>{{ block.settings.title }}</span>
              </div>
              <div class="htu__card-paragraph">{{ block.settings.paragraph }}</div>
            </section>
          {% endfor %}
        </div>
      </section>
    {% endif %}

    {% if wgk_blocks.size > 0 %}
      <section class="htu__wgk">
        <h2 class="htu__title">{{ section.settings.wgk_title }}</h2>
        <div class="htu__wgk-wrapper htu__grid">
          {% for block in wgk_blocks %}
            <section class="htu__wgk-card">
              {% if block.settings.icon != blank %}
                {% assign icon_name = block.settings.icon | append: '.svg' %}
                <div class="htu__card-icon">{{ icon_name | inline_asset_content }}</div>
              {% endif %}
              <div class="htu__card-title">
                <span>{{ block.settings.title }}</span>
              </div>
              <div class="htu__card-paragraph">{{ block.settings.paragraph }}</div>
            </section>
          {% endfor %}
        </div>
      </section>
    {% endif %}

    {% if review_top_blocks.size > 0 or review_bottom_blocks.size > 0 %}
      <section class="htu__customer-review">
        <h2 class="htu__title">{{ section.settings.review_title }}</h2>
        <div class="htu__customer-wrapper">
          {% for block in review_top_blocks %}
            <div class="htu__customer-content top">
              <section class="htu__cutomer-content wrapper">
                <div class="htu__customer-profile">
                  {{ block.settings['profile-top'] }}
                  <div>{{ rating_svg }}</div>
                </div>
                <div class="htu__customer-comment">{{ block.settings['comment-top'] }}</div>
              </section>
              <section class="htu__cutomer-content wrapper">
                {{ arrow_svg }}
                <div class="htu__customer-profile">
                  {{ block.settings['profile-top1'] }}
                  <div>{{ rating_svg }}</div>
                </div>
                <div class="htu__customer-comment">{{ block.settings['comment-top1'] }}</div>
              </section>
            </div>
          {% endfor %}

          {% for block in review_bottom_blocks %}
            <div class="htu__customer-content bottom">
              <section class="htu__cutomer-content wrapper">
                <div class="htu__customer-profile">
                  {{ block.settings['profile-bottom'] }}
                  <div>{{ rating_svg }}</div>
                </div>
                <div class="htu__customer-comment">{{ block.settings['comment-bottom'] }}</div>
              </section>
              <section class="htu__cutomer-content wrapper">
                <div class="htu__customer-profile">
                  {{ block.settings['profile-bottom1'] }}
                  <div>{{ rating_svg }}</div>
                </div>
                <div class="htu__customer-comment">{{ block.settings['comment-bottom1'] }}</div>
              </section>
            </div>
          {% endfor %}
        </div>
      </section>
    {% endif %}

    {% if benefits_blocks.size > 0 %}
      <section class="htu__benefits">
        <h2 class="htu__title">{{ section.settings.benefits_title }}</h2>
        <div class="htu__benefits-wrapper htu__grid">
          {% for block in benefits_blocks %}
            <section class="htu__benefits-card">
              {% if block.settings.icon != blank %}
                {% assign icon_name = block.settings.icon | append: '.svg' %}
                <div class="htu__card-icon">{{ icon_name | inline_asset_content }}</div>
              {% endif %}
              <div class="htu__card-title">
                <span>{{ block.settings.title }}</span>
              </div>
              <div class="htu__card-paragraph">{{ block.settings.paragraph }}</div>
            </section>
          {% endfor %}
        </div>
      </section>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "How To Use Section",
  "settings": [
    {
      "type": "text",
      "id": "htu_title",
      "label": "HTU Section Title",
      "default": "How To Use?"
    },
    {
      "type": "text",
      "id": "wgk_title",
      "label": "WGK Section Title",
      "default": "Why Global Komunika?"
    },
    {
      "type": "text",
      "id": "review_title",
      "label": "Customer Review Title",
      "default": "What Our Customers Say"
    },
    {
      "type": "textarea",
      "id": "review_paragraph",
      "label": "Customer Review Paragraph"
    },
    {
      "type": "text",
      "id": "benefits_title",
      "label": "Benefits Section Title",
      "default": "Benefits"
    }
  ],
  "blocks": [
    {
      "type": "review_top",
      "name": "Customer Review (Top)",
      "settings": [
        {
          "type": "text",
          "id": "profile-top",
          "label": "Customer Profile (HTML/SVG/text)"
        },
        {
          "type": "textarea",
          "id": "comment-top",
          "label": "Customer Comment"
        },
        {
          "type": "text",
          "id": "profile-top1",
          "label": "Customer Profile (HTML/SVG/text)"
        },
        {
          "type": "textarea",
          "id": "comment-top1",
          "label": "Customer Comment"
        }
      ]
    },
    {
      "type": "review_bottom",
      "name": "Customer Review (Bottom)",
      "settings": [
        {
          "type": "text",
          "id": "profile-bottom",
          "label": "Customer Profile (HTML/SVG/text)"
        },
        {
          "type": "textarea",
          "id": "comment-bottom",
          "label": "Customer Comment"
        },
        {
          "type": "text",
          "id": "profile-bottom1",
          "label": "Customer Profile (HTML/SVG/text)"
        },
        {
          "type": "textarea",
          "id": "comment-bottom1",
          "label": "Customer Comment"
        }
      ]
    },
    {
      "type": "htu_card",
      "name": "HTU Card",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (optional HTML/SVG or text)"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Card Title"
        },
        {
          "type": "textarea",
          "id": "paragraph",
          "label": "Card Description"
        }
      ]
    },
    {
      "type": "wgk_card",
      "name": "WGK Card",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (optional HTML/SVG or text)"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Card Title"
        },
        {
          "type": "textarea",
          "id": "paragraph",
          "label": "Card Description"
        }
      ]
    },
    {
      "type": "benefits_card",
      "name": "Benefits Card",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (optional HTML/SVG or text)"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Card Title"
        },
        {
          "type": "textarea",
          "id": "paragraph",
          "label": "Card Description"
        }
      ]
    }
  ],
  "max_blocks": 30,
  "presets": [
    {
      "name": "How To Use Section",
      "category": "Custom"
    }
  ]
}
{% endschema %}
